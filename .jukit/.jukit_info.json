{"cmd": "import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport modeltoolbox.tools as mt\nimport modeltoolbox as mtb\nimport seaborn as sns\n\nmt.prefer_settings()\n\ndf = pd.read_csv('housing.csv')\nop = df['ocean_proximity']\nop = pd.get_dummies(op)\ndf = df.drop('ocean_proximity', axis=1)\ndf = pd.concat([df, op], axis=1)\n\n\ndef change_col_dtype(DataFrame, before, after):\n    \"\"\"boolcol_to_int.将给定的DateFrame中的所有某(before)类型的列转化为其他(after)类型\n\n    Args:\n        DataFrame:\n        before: 转化前的类型名\n        after: 转化后的类型名\n    \"\"\"\n    for column in DataFrame.columns:\n        if DataFrame[column].dtype == before:\n            DataFrame[column] = DataFrame[column].astype(after)\n    return DataFrame\n\n\ndef corr_heatmap(DataFrame, title='pic'):\n    \"\"\"heatmap.快速绘制出一个含有数字的DataFrame的相关系数热力图\n\n    Args:\n        DataFrame: pd.DataFrame\n        title:\n    \"\"\"\n    from seaborn import heatmap\n    DataFrame = change_col_dtype(DataFrame, bool, int)\n    numeric_columns = DataFrame.select_dtypes(include=['number'])\n    heatmap(numeric_columns.corr(), annot=True)\n    print(numeric_columns.corr()['median_house_value'].nlargest(4).index.tolist())\n    plt.title(title)\n    plt.show()\n\n\ncorr_heatmap(df)\n# mtb.corr_heatmap(df['median_house_value'])\n\ndef fast_corr_evaluate(DataFrame, target):\n    DataFrame = change_col_dtype(DataFrame, bool, int)\n    numeric_columns = DataFrame.select_dtypes(include=['number'])\n", "cmd_opts": " --cell_id=NONE -s", "import_complete": 1, "terminal": "nvimterm"}